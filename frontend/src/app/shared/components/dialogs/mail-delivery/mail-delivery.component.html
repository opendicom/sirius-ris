<h1 mat-dialog-title class="underline-ok"><mat-icon>forward_to_inbox</mat-icon>&nbsp; {{ 'DIALOGS.MAIL_DELIVERY.TITLE' | i18n }}</h1>
<div mat-dialog-content>
    <br/>
    <p>{{ 'DIALOGS.MAIL_DELIVERY.CHECK_EMAIL' | i18n }}</p>
    <br/>

    <form class="form-element text-center" [formGroup]="form">
        <mat-form-field appearance="fill" class="large">
            <mat-label>{{ 'DIALOGS.MAIL_DELIVERY.EMAIL' | i18n }}</mat-label>
            <input matInput type="text" formControlName="email" placeholder="{{ 'DIALOGS.MAIL_DELIVERY.EMAIL_PLACEHOLDER' | i18n }}">
            <mat-icon matSuffix>mail</mat-icon>
        </mat-form-field>
        
        <br/>
        
        <div *ngIf="data.fk_appointment then thenBlockPerforming else elseBlockAppointment"></div>

        <ng-template #thenBlockPerforming>
            <button mat-flat-button type="button" [disabled]="appointmentButtonDisabled" class="appointment-button" (click)="resendEmail('appointment', data.fk_appointment)">
                <mat-icon>send</mat-icon>&nbsp;<small>{{ 'DIALOGS.MAIL_DELIVERY.RESEND_APPOINTMENT_EMAIL' | i18n }}</small>
            </button>

            &nbsp;

            <button mat-flat-button type="button" [disabled]="reportButtonDisabled" class="report-button" (click)="resendEmail('report', data._id)">
                <mat-icon>send</mat-icon>&nbsp;<small>{{ 'DIALOGS.MAIL_DELIVERY.RESEND_REPORT_EMAIL' | i18n }}</small>
            </button>
        </ng-template>

        <ng-template #elseBlockAppointment>
            <button mat-flat-button type="button" [disabled]="appointmentButtonDisabled" class="appointment-button" (click)="resendEmail('appointment', data._id)">
                <mat-icon>send</mat-icon>&nbsp;<small>{{ 'DIALOGS.MAIL_DELIVERY.RESEND_APPOINTMENT_EMAIL' | i18n }}</small>
            </button>
        </ng-template>
    </form>

    <br/><hr class="dashed" /><br/>
</div>

<div mat-dialog-actions>
  <span class="mat-spacer"></span>
  <button mat-flat-button mat-dialog-close [mat-dialog-close]="false">{{ 'DIALOGS.MAIL_DELIVERY.CLOSE' | i18n }}</button>
</div>